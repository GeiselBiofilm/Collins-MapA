import sys

def main(Infile, Outdir):

	LapA = 'MTPGESSMSSVVAIVKSIVGQVFVVSPEGVRRVLVEGDRLFAGDQVDTGVSGAVSLELADGRTIDLGRDTQWSADTPDSSTDLAEATAQAAPSVEELQQAIAAGVDPTTALESTAAGPSAAGTGGAAGGGHSFVMLDATAGRVDPTIGFPTAGINAAGQAAQNITGGQNTDTTANALRESTLSLSATPSITEAGGVLVYTATLTQAPLTDLTITLSNGAVIVIPAGSTTGTANVPLAPNDTVYNDPTQIDVTVTGTTGGSGITVTPPTTPATTQVTDTIDTTTVTLTAGPSVTEGGQITYTATLTNPAQTPVTVTLSNGSTITIGAGQTTGTVNVPTAPNDVYNNGSTVTTTITGATGGNFENLVPNPTPAVTTITDSIDTTGLTLTATGTVVEGGQITYTATLTNPAQTPVTVTLSNGSTITIGAGQTTGSVNVPTAPNDVYNNGGTVSTTITGATGGNFENLVPNTTPATTTVTDSIDTTNLSLSATGSVAEGGSIVYTATLTNPAGTPVTVTLSNGSVITIEAGKTTGTVTVPAPADDVYKDAGKIEVTIKDATGGNFENLVPSTVPAVTEVTDTIDTSTVKLTADSSVAEGGTVTYTATVGAPVTGSPVTVTLANGQTITIEVGKTTGTVTTTAPNDALAGNAPLTNSITGVSGGNYENLVADKTPVSTTVTDVADITNLTLSATGTVAEGGSIVYTATLTNPAGTPVTVTLSNGSVITIEAGKTTGTVTVPAPADDVYKDAGKVEVTIKDASGGNFENLVPSTVPAVTEVTDTIDTSTVKLSADTSVAEGGTVTYTATVGAPVTGSPVTVTLANGQTITIEVGKTTGTITTTAPNDVLTGHAPLTNSITGVSGGNYENLVADKTPVSTTVTDVADTTNLTLSATGTVAEGGSIVYTATLTNAAGTPVTVTLSNGAVITIEAGKTTGTVTVPAPADDVYKDAGKVEVTIKDATGGNFENLVPSTVPAVTNVTDTIDTTTVKLTATESAVEGGTVTYTATVGAPVTGSPVTVTLANGQSITIEVGKTTGTITTTAPNDALNGHTPLTNAITGVSGGNYENLVADKTPVSTTVTDTVDTTNLTLSASDSVAEGGSIVYTATLTNPAGTSVTVTLSNGAVITIEAGKTTGTVTVPAPADDVYKDAGKVEVTIKDASGGNFENLVPSTVPAVTEVTDTIDTTTVKLTATESAAEGGTVTYTATVGAPVTGSPVTVTLANGQSITIEVGKTTGTVTTTAPNDALNGHTPLTNAITGVSGGNYENLVADKTPVSTRVTDTVDTTNLTLSATGTVAEGGSIVYTATLTNPAGTPVTVTLSNGSVITIEAGKTTGTVTVPAPADDVYKDAGKVEVTIKDATGGNFENLVPSTVPAVTNVTDTIDTSTVKLSADTSVAEGGTVTYTATVGAPVTGSPVTVTLANGQTITIEVGKTTGTITTTAPNDALNGHTPLSNSITGVTGGNYENLVADKTPVSTTVTDTVDTTDLTLTATDSVAEGGSITYTATLTNAAGTPVTVTLSNGAVITIEAGKTTGTVTVDAPKDDVYKDAGKVEVTIKDATGGNFENLVPSTVPAVTEVTDTIDTTTVKLTATESAAEGGTVTYTATVGAPVTGSPVTVTLANGQSITIEVGKTTGTITTTAPNDALNGHTPLTNAITGVSGGNYENLVADKTPVSTTVTDTVDTTNLTLSASDSVAEGGSIVYTATLTNPAGTPVTVTLSNGAVITIEAGKTTGTVTVDAPKDDVYKDAGKVEATISTATGGNFENLVPSTVPAVTEVTDTIDTTTVKLTATESAVEGGTVSYTATVGAPVTGSPVTVTLANGQSITIEVGKTTGTVTTTAPNDVLNGHAPLTNAITNVTGGNYENLVADKTPVSTTVTDTVDTTNLTLSATDSVAEGGSIVYTATLTNPAGTPVTVTLSNGAVITIEAGKTTGTVTVDAPKDDVYKDAGKVEVTIKDATGGNFENLVPSTAPAVTEVTDTIDTSTVKLTATESAAEGGTVTYTATVGAPVTGSPVTVTLANGQSITIEVGKTTGTVTTTAPNDALNGHTPLTNSITDVSGGNYENLVADKTPVSTTVTDTVDTTNLTLSATPEVNEGGQITYTATLTNAAGTPVTVTLSNGAVITIEAGKTTGTVTVDAPKDDVYKDAGKVETTISTTTGGNFENLVTSTAPAVTTVNDTIDTSTVSLTATANVAEGETVVYTATVTAPVTGSPVVVTLSNGQTITIAVGETTGTVNFVAPNSPLAGGSSLSVTIDKATGGNYENLAVDGKSADTSVSDTVDTTNLNLTATDSVAEGGSITYTATLTNPAGTPVTVTLSNGAVITIEAGKTTGTVTVDAPKDDVYKDAGKVEATISTATGGGFENLVPSTVPAVTNVTDTIDTTTVKLTATESAAEGGTVTYTATVGAPVTGSPVTVTLANGQSITIEVGKTTGTVTTTAPNDALNGHTPLTNSITGVSGGNYENLVADKTPVSTTVTDTVDTTNLTLSATGSVAEGGSIVYTATLTNPAGTPVTVTLSNGAVITIEAGKTIGTVTVPAPADDVYKDAGKVEVTIKDATGGNFENLVPSTVPAVTEVTDTIDTTTVKLTASETAAEGGTVTYTATVGAPVTGSPVTVTLANGQQITIEVGKTTGTVTTTAPNDVLNDHAPLTNAITDVSGGNYENLVADKTPVSTTITDTIDTTNLSLTATGTVAEGGSIVYTATLTNPAGTPVTVTLSNGSVITIEAGKTTGTVTVPAPADDVYKDAGTVEATIKSATGGNFENLVTSTTPAVTNVTDTIDTTTVKLTATESAAEGGTVTYTATVGAPVTGSPVTVTLSNGQSITIEVGKTTGTVTTTAPNDALTGHAPLTNAITGVTGGNYENLVADKTPVSTTVTDTVDTTNLTLSATNSVAEGGSIIYTATLTNAAGSPVTVTLSNGAVITIEAGKTTGTVTVPAPADDVYKDAGNVQATITNATGGNFENLVPSTVPAVTQVTDTIDTTTVKLTATESAAEGGTVTYTATVGAPVTGSPVTVNLSNGQSITIEVGKTTGTVTTTAPNDVLNGHAPLTNAITGVTGGNYENLVADKTPVSTTVTDTVDTTNLSLSATGTVAEGGSITYTATLTNAAGTPVTVTLSNGAVIIIEAGKTTGTVTVAAPADDVYKDAGNVQATITNATGGNFENLVTSTTPAVTSVTDTIDTTTVKLTATATAAEGGTVTYTATVGAPVTGSPVTVNLSNGQSITIEVGKTTGTVTTTAPNDVLTGHAPLTNAITGVSGGNYENLVADKTPVSTTVTDTVDTTNLSLSATGTVAEGGSITYTATLTNAAGSPVTVTLSNGAVITIEAGKTTGTVTVPAPADDVYKDAGNVQATITNATGGNFENLVTSTTPAVTSVTDTIDTTTVKLTATATAAEGGNVVYTATVGAPVTGSPVTVTLSNGQSITIEVGKTSGTVTTTAPNDVLNGHAPLTNAITGVSGGNYENLVADKTPVSTTVTDTVDTTNLSLSATNSVAEGGSITYTATLTNAAGTPVTVTLSNGAVITIEAGKTTGTVTVPAPADDVYKDAGNVQATITNATGGNFENLVTSTTPAVTSVTDTIDTTTVKLTATATAAEGGTVTYTATVGAPVTGSPVIVNLANGQSITIEVGKTTGTVTTIAPNDALTGQAPLTNSITNVSGGNYENLVADKTPVSTTVTDTVDTTNLSLSATGTVAEGGSITYTATLTNAAGSPVTVTLSNGAVITIEAGKTTGTVTVPAPADDVYKDAGNVQATIKSATGGNFENLVTSTTPAVTSVTDTIDTTTVKLTATTTAAEGGTVTYTATVGAPVTGSPVTVNLANGQSITIEVGKTTGTVTTTAPNDALTGHTPLTNSITNVTGGNYENLVADKTPVSTTVTDTIDTTNLSLSATGTVAEGGSITYTATLTNAAGSPVTVTLSNGAVITIDAGKTTGTVTVPAPADDVYKDAGNVQATITNATGGNFENLVTSTTPAVTSVTDTIDTTTVSITGSTSVTEGQTASYTVSLTHPAQTEVTLKIVYSGTAADGSDFTGVYTVKIPAGASSAQFNVATIDDKITEGTENFVVKIDSATGGNFENLAVSSTNGSVSTSIIDNDAPPVIDLDANNSSGATGADYKVTFTEGTTGPGVSIADTDIKITDPDSTMLTGATIVLTNRQDGDALNLGNSVNGITINANSTNGTVTLTLSGNATLADYMQAIKNISFTNSSEDPSTVPRIITVTVTDGGNYSNTATTTVNVVAINDAPVAAPVNVTGTEDTPLILGWSTFGVSDVDSPASSLGVKITQLPGEGKLQYLDGSTWKDVANNQTFSKADIDAGKLRFVPDANESGVNGYGGTGVGNNQADYAQIKFQPTDGQLLGNTGTIKIDITPVADAPTLSVADNSVKSTGLIKEVWTGLSGLGTDGSGANSTTLKNVIDGAGKPNTSGTVNNVQSDGSVTAGTASKTSGLIYLEAGKTYTFSGTGDDSLLVTIGGKSVASTTWGAGGNLNGSFTPTTSGYYTLDIYHHNQSGPGSYDVNLSVNGSTPIDLSSAGVPIYTGVQDLVNAGVTVSDLHGSNGEGYYDGYKLNTGAEGTTVKLSSISTALTDTDGSETLSIKISGAPVGSVLSDGAGHSFTVTATSGDANVTGWNLGTLTVTPPTYYNGQFNLTVTSTSTEQVGGSASTTATIPVTVVPAVYNSIVATSADDTVTGTDGNDIMVADIGGLTVVPGTNYNIAFMVDSSGSMSASSINAAKDSLTSVFNTLKQSLGGSNSGTVNIFLVDFDTQVNKSVSVNLNDPNALTLLKAVLDSMASGGGTNYEDVFKATANFFQSAEAVANTGAKNLTYFITDGQPTYYQSNEQTNPTLYGNVKLDDVVKTSNYKLGSSFATYIDSTHYLSISTSGEVVLQTLKNNNWSWNSLGTIHAQGDGTYEISSLAGSGNSTSSNTTDNSAAGFALLSGLSNVEAIGLNNGVSLNDLKPYDSDKTPQTNIDPKDLANSIIGHTEATMPGNDTVSGGDGNDILFGDLVSFNGIAGEGYQAMQAFVAKETGVDVSKVTTSNVHQYITEHYQAFDVSGAHDGNDTLLGGAGNDILFGSGGNDLLDGGKGNDILLGGTGNDTLIGGQGNDILIGGSGADTFVWKAGDTGNDVIKDFKASEGDRIDLRDLLQGETGSTIDNFLKITTVDGVSSLQVSSGGKFNSGDAAAATPDVTIKLEGNNWSSANIHNLIAGSDPTIKVDHNNS'

	MapA = 'MHMATLIGTVTKVIGQVFAQSADGTRRALVEGDRLFAGDQLITGAEGAVAVHLQNGQELTLGRDSSLTMTGQLLADQAAHVNAPEAVTPSESQLTDVEQIQKAIAAGDDPTKTAEATAAGPGATGGAPGALGGGHSFVLLTEVAGRVDPVIGFPTAGFNGIPEFPEERHNAVIDNGDGQATPIVPPPPPVNNPVTLTGLSVAGGELNLNEANLPDGSAANPGALTQTGSFTVSAPDGLSSLSIGGINVIVGGVPIGFPQSITTQLGNTLTITGYNPATGTVSYSYTLNGNETHAAGDGANNLSEQFTVIAGDSNGDTATGTLDVNITDDVPKAFDDNNGTATETQLTLTGNVLTNDVQGADRVLVGENAGPITAGTFIGTYGTLVLNANGTYTYTLNTNDADFKNLHGGGNGTETFTYTLTDADGDTSTANLVLQIHNNDDPVVINGLNVEGGELTVYEKNLGDGSAPDSGALTQSGTFTITALDGVTTLTIGGIAVVTNGVAAGFPQSIVTPLGSTLTITGFNAATGVVSYSYTLVDNEAHPTANGANVLNEQFAVTVVDDNGTTANATLDVNIVDDLPKGVDDSNAGTASETNLTLSGNVLTNDVQGADRVPVGENAGPITAGTFTGTYGTLVLNANGTYTYTLNTSDADFKALHGGGNGTETFTYTITDADGDTSTANLVLQIHNNDDPVVINGLDVNGGELTVYEKNLSDGTSPNAPALTQSGTFTITALDGVTTLTIGGIAVVTNGVAAGFPQSIVTPLGSTLTITGFNAATGVVSYSYTLVDNEAHPTANGANVLNEQFAVTVVDDNGTTANATLDVNIVDDLPKGVDDSNAGTASETNLTLSGNVLTNDVQGADRVPVGENAGPITAGTFTGTYGTLVLNANGTYTYTLNTSDADFKALHGGGNGTETFTYTITDADGDTSTANLVLQIHNNDDPVIINGLDVNGGELTVYEKNLSDGSSPDAPALTQSGTFTITALDGVTTLTIGGIAVVTNGVAAGFPQSIVTPLGSTLTITGFNAATGVVSYSYTLVDNEAHPTTNGANVLNEQFAVTVVDDNGTTANATLDVNIVDDLPKGVDDSNAGTASETNLTLSGNVLTNDVQGADRVPVGENAGPITAGTFTGTYGTLVLNANGTYTYTLNTSDADFKALHGGGNGTETFTYTITDADGDTSTANLVLQIHNNDDPVVINGLDVNGGELTVYEKNLSDGTSPNAPALTQSGTFTVTALDGLQTLTVGGIAVITNGVAAGFPQSAVTPLGSTLTITGYDPATGVVSYSYTLVDNETHPTANGANSLTENFNVVATDTDGSTATGQINVNIIDDLPTAKPDATSVQEGGTVSGNVLDNDIGGADGPAASGAVVGVRAGSDTSTSAIGGLNSNINGTYGYLTLDANGNAVYHSNPNAVSGPGAVDVFTYTVRDSDGDESTTTITIDVYNSKLCAVSDTDVTVYEKALDLTKDGQDLAPGTVTGSDPTSTGETASGTLVGSVTGAVGAISYALVGSATGNYGQIVLNPDGTYTYTLTSPASTTPHADDGANSLTETFTYQATDSLGNVVTSTIVVNIVDDVPKAINDSNAGTASETQLTLNGNVLTNDVQGADVVAIGPNAGPITPGTFTGTYGTLVLNANGTYTYTLNTNDADFKNLHGGGNGTETFTYTLTDADGDTSTANLVLNIHNNDDPVVLNGLDVYGGELTVYEKNLSDGTSPDTPALTQSGTFTVTALDGLQTLTVGGIAVMTNGVAAGFPQSTVTPLGSTLTITGYNPTTGVVSYSYTLVDNESHPNANGANSITENFNVVATDTDGSTATGQINVNIIDDLPTAKADTGSVAEGGTVNISVLGNDISGADGAAIVVGVRAGGNTATSAIGGLNSNINGNYGYLTLDAAGNAVYHSNPNSVSPPGATDTFTYTIRDSDGDESTTTITVNVADSKLVASTDQDVTVYEKALDLTQDGQDLAPGTVTGSDPGNTGETATGTLVGSVSGGSGAITYTLVGSATGTYGQIQLNADGTYTYTLTSAPKTTPNANDGPNTLSESFTYKATDALGNSTTSTIVVNIVDDVPKAVASERSVAAVEIDSNILIVLDISGSMADASGVPGLSRLELAKQAISALLDKYDDLGDVKVQLVTFSSNATDRTSVWVDVATAKTLLAGLSAGGGTNYDAAVATMYNAFNTSGKLTGAQNVGYFFSDGKPNEGDIGTADEATLKAFLDANNIKNYAIGLGSGVSNANLDPLAYDGITHTNTNAVVVTDLNQLNSVLSGTVEGAPVTGSLIGEGGTFGADGGFIKSIVVDGTTYTYDPKANGGQGSLVASGGANHGTFNTVNNTLSIATNNSGTLVVNLDTGDYSYTSQKTTAVVITENIGFTLSDNDGDLASSTLTVKVIPNAPPVAADDHVITNVLSGNIVVPGELLLANDTDPNGDTLNATPTSFNTGWISKSADFTGSGAISFTGTNANTAANQNLANVRNAFSANAATMTAVLVVSGYLGAVTNTNANDEDRITVNLRQGETLNLDHNLAAGHITMEYSINGGAYIALADGQTLTATSDGVYQIHITNITNTTGSNANAAENYQLTMTLNYAGAHDITPDYHGTYTANDNHGGSDTANVTISYQDGHTLTGTSGDDVLVAGTGDNIINAGDGNDVLTAGSGNNELHGGAGNDLLYSGPGNDLLDGGSGIDTASYAHATAGVTVNLGLLGAQNTIGAGTDTLTGIENLVGSNFNDTLTGDNNNNVINGGLGNDILNGGGGDDLLIGGMGNNTLTGGPGADTFQWLKGNSGHDLVTDFTPGTDKLDLSQLLQGENGTSASLDDYLHFTVTGSGASVMTSIDVSAMAGATPNQTIDLAGVNLASHYGVTPGAGGLIASGHDTATIINGMLNDHSLKVDTV'

	Species_count = {}

	with open(Infile, 'r') as f:
		for line in f.readlines():
			components = line.split(",")
			species = "_".join(components[0].split())
			sequence = components[1]
			if species in Species_count.keys():
				Species_count[species] += 1
			else: 
				Species_count[species] = 1
			LapAoutfilename = "%s/%s%i_LapA.fna" %(Outdir, species, Species_count[species])
			MapAoutfilename = "%s/%s%i_MapA.fna" %(Outdir, species, Species_count[species])
			with open(LapAoutfilename, 'w+') as Lout:
				Lout.write(">%s.%i\n%s\n>LapA\n%s" %(species, Species_count[species], sequence, LapA))
			Lout.close()
			with open(MapAoutfilename, 'w+') as Mout:
				Mout.write(">%s.%i\n%s\n>MapA\n%s" %(species, Species_count[species], sequence, MapA))
			Mout.close()



if __name__ == '__main__':
	main(sys.argv[1], sys.argv[2])